# AET CS Website - AI Agent Instructions

## Project Overview

This is a Jekyll-based educational website for computer science courses at the Academy of Engineering and Technology. It hosts teaching materials for CS10, CS11, CS12, and Machine Learning courses using the Minimal Mistakes theme.

## Key Architecture

### Content Organization

- **Teacher-specific content**: Lives under `white/` directory with academic year structure (`white/2025/`, `white/2024/`)
- **Course structure**: Each course has a calendar page (e.g., `white/2025/ML/calendar.md`) that serves as the daily entry point
- **Shared materials**: Common lessons live in `white/2024/AP_shared/` for AP Computer Science courses
- **Generated site**: `_site/` contains Jekyll build output (don't edit directly)

### Content Types

1. **Markdown lesson pages** in `white/YEAR/COURSE/*.md` with Jekyll front matter
2. **Jupyter notebooks** (`.ipynb`) for ML course labs and exercises
3. **Data files** in `white/YEAR/ML/data/` for ML datasets
4. **Custom includes** for interactive teaching elements

## Critical Conventions

### Jekyll Front Matter

All markdown files require YAML front matter. Standard structure:

```yaml
---
title: "Page Title"
layout: single # or 'archive' for calendars
sidebar: # optional for course navigation
  nav: "ml" # references _data/navigation.yml
---
```

### Custom Interactive Elements

The site uses three custom Jekyll includes for teaching:

1. **Answer boxes** - Reveal-on-click Q&A:

```liquid
{% capture question1 %}Question text here{% endcapture %}
{% capture answer1 %}Answer markdown here{% endcapture %}
{% include answer-box.html question=question1 content=answer1 %}
```

2. **Code solution boxes** - Toggle between skeleton/solution code:

```liquid
{% capture skeleton %}Code with blanks{% endcapture %}
{% capture solution %}Complete solution{% endcapture %}
{% include code-solution-box.html skeleton=skeleton solution=solution %}
```

3. **Q&A boxes** - Simple answer-only reveals:

```liquid
{% include qa-box.html content=answer_variable %}
```

JavaScript for these lives in `assets/js/answer-boxes.js` with styles in `assets/css/main.scss`.

### Navigation Structure

- Main navigation: `_data/navigation.yml` defines sidebar menus per course
- Calendar pages use `layout: archive` and link to daily lessons
- Course home pages use `layout: single` with optional sidebars

## Developer Workflows

### Local Development

```bash
bundle exec jekyll serve
# Site runs at http://localhost:4000
# Auto-reloads on file changes (except _config.yml)
```

### Deployment

- **Branch**: Push to `dev-actions` branch triggers GitHub Actions
- **Build**: `.github/workflows/jekyll.yml` builds with Jekyll 4.3 and Ruby 3.2
- **Output**: Deployed to GitHub Pages automatically

### Managing Content Titles

The `convert_md_titles.py` script converts H1 headers to Jekyll front matter:

```bash
python convert_md_titles.py --apply          # Convert all .md files
python convert_md_titles.py --path DIR       # Specific directory
# Default is test mode (shows changes without applying)
```

## ML Course Specifics

### Notebook Structure

- Student notebooks have `-Student` suffix (e.g., `knn-Student.ipynb`)
- HTML exports for notebooks stored alongside (e.g., `knn-Student.html`)
- Reference notebooks via relative paths in calendar: `./notebooks/filename.ipynb`

### Notebook Viewer

- Standalone HTML viewer at `notebook-viewer.html` renders `.ipynb` via URL param
- Used for inline notebook viewing without Jupyter

### Data Files

- CSV/pickle datasets in `white/YEAR/ML/data/`
- Linked directly from lesson pages with relative paths
- Example: `./data/twitter_training.csv`

## File Naming Patterns

- Lesson files: lowercase with hyphens (`decision-tree-lab.md`)
- Java files: PascalCase (`ArrayMain.java`)
- Notebooks: PascalCase or kebab-case depending on topic
- Avoid spaces in filenames

## Important: What NOT to Edit

- `_site/` directory - auto-generated by Jekyll
- `.jekyll-cache/` - build cache
- When editing content, work in source directories under `white/`, not `_site/`

## Dependencies

- Jekyll 4.3 with Minimal Mistakes theme
- Ruby 3.2
- Key plugins: `jekyll-relative-links`, `jekyll-redirect-from`, `jekyll-include-cache`

## Adding New Lesson Pages

1. Create `.md` file in appropriate course directory
2. Add Jekyll front matter with title and layout
3. Link from calendar page with relative path
4. Use custom includes for interactive elements
5. For notebooks: export HTML version and link both formats
6. Test locally before pushing to `dev-actions`
