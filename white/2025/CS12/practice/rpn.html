<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reverse Polish Notation (RPN) Quiz</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.6;
            margin: 0 auto;
            max-width: 800px;
            padding: 20px;
            background-color: #f8f9fa;
        }
        h1 {
            color: #333;
            text-align: center;
        }
        .question-container {
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            padding: 20px;
        }
        pre {
            background-color: #e9ecef;
            border-left: 4px solid #007bff;
            padding: 15px;
            border-radius: 4px;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
            font-size: 1.1em;
            text-align: center;
        }
        .options label {
            display: block;
            margin: 10px 0;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .options label:hover {
            background-color: #f1f3f5;
        }
        input[type="radio"] {
            margin-right: 10px;
        }
        .feedback {
            margin-top: 15px;
            padding: 10px;
            border-radius: 5px;
            font-weight: bold;
        }
        .correct {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .incorrect {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>

    <h1>Reverse Polish Notation (RPN) Quiz üßÆ</h1>

    <div id="quiz-container"></div>

    <script>
        const quizData = [
            {
                question: "Evaluate the following RPN expression:",
                code: "5 3 + 8 2 - *",
                options: ["48", "16", "6", "30"],
                answer: "48",
                explanation: "1. `5 3 +` evaluates to 8. The stack is `[8]`.\n2. `8 2 -` evaluates to 6. The stack is `[8, 6]`.\n3. `*` operates on 8 and 6, resulting in 48."
            },
            {
                question: "Convert the following algebraic (infix) expression to RPN:",
                code: "(4 + 2) * (7 - 1)",
                options: ["4 2 + 7 1 - *", "4 2 7 1 + - *", "* + 4 2 - 7 1", "4 + 2 * 7 - 1"],
                answer: "4 2 + 7 1 - *",
                explanation: "First, the expression inside the first parenthesis `(4 + 2)` becomes `4 2 +`. Then, `(7 - 1)` becomes `7 1 -`. Finally, the `*` operator is applied to the results of the first two operations."
            },
            {
                question: "Convert the following RPN expression to standard algebraic (infix) notation:",
                code: "x y + z /",
                options: ["(x + y) / z", "x + y / z", "z / (x + y)", "x / z + y"],
                answer: "(x + y) / z",
                explanation: "The `+` operator applies to the two preceding operands `x` and `y`, resulting in `(x + y)`. Then, the `/` operator applies to that result and the next operand `z`."
            },
            {
                question: "Evaluate the following RPN expression:",
                code: "20 5 / 2 3 + *",
                options: ["20", "22", "14", "1"],
                answer: "20",
                explanation: "1. `20 5 /` evaluates to 4. The stack is `[4]`.\n2. `2 3 +` evaluates to 5. The stack is `[4, 5]`.\n3. `*` operates on 4 and 5, resulting in 20."
            },
            {
                question: "Convert the following algebraic (infix) expression to RPN:",
                code: "a * (b + c) / d",
                options: ["a b c + * d /", "a b * c + d /", "a b c d * + /", "* a + b c / d"],
                answer: "a b c + * d /",
                explanation: "The innermost parenthesis `(b + c)` is converted first, becoming `b c +`. Next in precedence is `*`, so `a` is multiplied by that result: `a b c + *`. Finally, that entire result is divided by `d`."
            },
            {
                question: "Convert the following RPN expression to standard algebraic (infix) notation:",
                code: "p q r * + s t / -",
                options: ["p + q * r - s / t", "(p + q) * r - (s / t)", "(p + (q * r)) - (s / t)", "p + (q * r - s) / t"],
                answer: "(p + (q * r)) - (s / t)",
                explanation: "1. `q r *` becomes `(q * r)`. Stack: `[p, (q * r)]`\n2. `p ... +` becomes `(p + (q * r))`. Stack: `[(p + (q * r))]`\n3. `s t /` becomes `(s / t)`. Stack: `[(p + (q * r)), (s / t)]`\n4. Finally, `-` operates on the two results."
            }
        ];

        const quizContainer = document.getElementById('quiz-container');

        quizData.forEach((quizItem, index) => {
            const questionDiv = document.createElement('div');
            questionDiv.className = 'question-container';

            const questionText = document.createElement('p');
            questionText.innerHTML = `<b>${index + 1}.</b> ${quizItem.question}`;
            questionDiv.appendChild(questionText);

            if (quizItem.code) {
                const codeBlock = document.createElement('pre');
                codeBlock.textContent = quizItem.code;
                questionDiv.appendChild(codeBlock);
            }

            const optionsDiv = document.createElement('div');
            optionsDiv.className = 'options';
            quizItem.options.forEach(option => {
                const label = document.createElement('label');
                const radio = document.createElement('input');
                radio.type = 'radio';
                radio.name = `question${index}`;
                radio.value = option;

                radio.addEventListener('change', () => {
                    const feedbackDiv = questionDiv.querySelector('.feedback');
                    if (radio.value === quizItem.answer) {
                        feedbackDiv.innerHTML = '‚úÖ <b>Correct!</b><br>' + quizItem.explanation.replace(/\n/g, '<br>');
                        feedbackDiv.className = 'feedback correct';
                    } else {
                        feedbackDiv.innerHTML = '‚ùå <b>Incorrect.</b> The correct answer is ' + quizItem.answer + '.<br>' + quizItem.explanation.replace(/\n/g, '<br>');
                        feedbackDiv.className = 'feedback incorrect';
                    }
                });

                label.appendChild(radio);
                label.appendChild(document.createTextNode(" " + option));
                optionsDiv.appendChild(label);
            });

            questionDiv.appendChild(optionsDiv);

            const feedbackDiv = document.createElement('div');
            feedbackDiv.className = 'feedback hidden';
            questionDiv.appendChild(feedbackDiv);

            quizContainer.appendChild(questionDiv);
        });
    </script>

</body>
</html>